# Технические артефакты

## 1. Описание архитектуры решения

Диаграмма работы сервиса представлена на рисунке 1: <br>
![Диаграмма](/pics/image6.png).

Работа велась на языке программирования **Python**. Были использованы следующие библиотеки:

- coremltools  
- matplotlib  
- numpy  
- onnxruntime-gpu  
- opencv-contrib-python  
- pandas  
- Pillow  
- py_cpuinfo  
- pytest  
- PyYAML  
- scikit_learn  
- tensorflow  
- tqdm  
- openvino  
- fastapi  
- uvicorn  
- python-multipart  
- opencv-python-headless  
- pydantic  
- deepface  

Кроме того, были использованы брокеры сообщений: **FastAPI**, **Docker**.  
При разработке использовались модели, которые находятся в открытом доступе.

### Обработка данных:
- **Предобработка изображений**:
  - Коррекция освещения, бинаризация (OpenCV, Pillow).
  - Удаление шумов, выравнивание текста, сегментация строк/слов.
- **Аугментация**:
  - Искусственное добавление искажений, изменение яркости/контраста, повороты для увеличения разнообразия данных.
- **Разметка**:
  - Текст на изображениях преобразуется в аннотации (форматы: JSON, TXT) для обучения моделей.

### Фреймворки:
- TensorFlow

### Этапы:
1. Инициализация весов предобученной модели на русских текстах.
2. Создание микросервисной архитектуры.

Наше решение имеет потенциал к масштабированию. Так, возможно расширение функционала для распознавания документов иностранного типа, а также интеграция сервиса с приложениями, где необходима верификация пользователей.

## 2. Инструкция по развертыванию
### Модуль сравнения лиц:
```docker build -t face. docker run -p 8000:8000```
### Модуль распознавания текста:
##### Переходим в директорию
```..russian_docs_ocr/scripts```
##### Создаем виртуальное окружение
```python -m venv myenv```
```source myenv/bin/activate```
```pip install -r requirements.txt```
##### Запускаем скрипт
```python3 main.py```

### Модуль интерфейса:
##### Переходим в директорию
```..gradio```
##### Создаём виртуальное окружение
```python -m venv myenv```
```source myenv/bin/activate```
```pip install -r requirements.txt```
##### Запускаем скрипт
```python3 app.py```

### Минимальные программно-аппаратные требования:
- SSD: 64гб свободного места
- CPU: x86 Intel core i3 gen 8 
- RAM: 8 GB
- OS: Linux Ubuntu 
- Python: 3.9+.

## 3. Исходный код решения
Исходный код решения находится в репозитории в директории ```Tech```.

## 4. Инструкция по развертыванию
Наше решение Вы можете протестировать по ссылке:
http://s7.markuslons.ru/

Для безопасности данных предлагаем использовать тестовые картинки, находящиеся в папке **pics**:

- fakepass.jpg
- fakephoto.jpg

